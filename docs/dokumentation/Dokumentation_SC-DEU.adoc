= Dokumentation der deutschen Lokalisierung für Star Citizen
v0.0.1, 13.11.2023
// Nachfolgende Zeilen dienen der Formartierung des PDF.
:doctype: book
:sectnums:
:partnums:
:part-signifier: Teil
:chapter-signifier: Kapitel
:chapter-refsig: Kapitel
:table-caption: Tabelle
:figure-caption: Abbildung
:toc-title: Inhaltsverzeichnis
:toc:

Dieses Dokument stellt die gesammelte Dokumentation zur Community-getriebenen Übersetzung des Spiels https://robertsspaceindustries.com/[Star Citizen] ins Deutsche dar.

== Dokumentation für Nutzende

=== Installation

==== Release-Download
Täglich um 04:00 Uhr Nachts wird aus den Änderungen des Vortags automatisch ein LIVE-Release erstellt. Lade dir *https://github.com/rjcncpt/StarCitizen-Deutsch-INI/releases[die neuste ZIP Datei herunter]* und entpacke diese im LIVE Ordner. Wenn du die INI-Datei des LIVE-Channel im PTU-Channel nutzt, kann es zu Darstellungsfehlern kommen.

In der ZIP-Datei befinden sich die Dateien *`global.ini`* und *`user.cfg`*. Wenn du nicht möchtest das die *`user.cfg`* Datei deine eigene überschreibt, lade die *`global.ini`* einzeln als <<Direktdownload>>.

===== Schritte
1. Lade dir die Datei **`https://github.com/rjcncpt/StarCitizen-Deutsch-INI/releases[StarCitizen.Deutsch.zip]`** herunter
2. Entpacke diese an einem beliebigen Ort
3. Kopiere den entpackten Inhalt in den LIVE (oder ggf. PTU) Ordner im Star Citizen Verzeichnis

#Hinweis: Der Standardpfad zum Star Citizen Verzeichnis lautet **C:\Program Files\Roberts Space Industries\Star Citizen**. In einem auf Deutsch eignestellten Windows wird dieser Pfad als **C:\Programme\Roberts Space Industries\Star Citizen** dargestellt. Solltest du bei der Installation von Star Citizen einen anderen Pfad angegeben haben, kannst du diesen im RSI Launcher unter Settings finden.#


==== Direktdownload
Du kannst die `global.ini` auch direkt aus dem Verzeichnis herunterladen, wenn du nicht immer die komplette ZIP-Datei herunterladen möchtest. Der Vorteil hierbei ist, dass sich diese Datei immer auf dem aktuellsten Stand befindet. Die `global.ini` für den LIVE-Channel findest du im **`https://github.com/rjcncpt/StarCitizen-Deutsch-INI/tree/main/live[live]`** Ordner des Repositories. Die `global.ini` für den PTU-Channel liegt analog dazu im **`https://github.com/rjcncpt/StarCitizen-Deutsch-INI/tree/main/ptu[ptu]`** Ordner.

.Direktdownload der global.ini
image::bilder/jTabj3V.png[Direktdownload global.ini]


===== Installation
1. *https://github.com/rjcncpt/StarCitizen-Deutsch-INI/blob/main/live/global.ini[Klicke hier]* und öffne die `global.ini` Datei
2. Klicke im neuen Fenster auf den Downloadbutton oben rechts (Im Screenshot rot markiert).
3. Erstelle folgende Ordner im Star Citizen Verzeichnis und füge die `global.ini`-Datei in den Ordner `german_(Germany)` ein. Der Ordnerpfad muss wie folgt aussehen:
+
**\StarCitizen\LIVE\data\Localization\german_(germany)\**
+
4. speichere ggf. die `user.cfg` in den LIVE Ordner:
+
**\StarCitizen\LIVE\**
+

#Hinweis: Der Standardpfad zum Star Citizen Verzeichnis lautet **C:\Program Files\Roberts Space Industries\Star Citizen**. In einem auf Deutsch eignestellten Windows wird dieser Pfad als **C:\Programme\Roberts Space Industries\Star Citizen** dargestellt. Solltest du bei der Installation von Star Citizen einen anderen Pfad angegeben haben, kannst du diesen im RSI Launcher unter Settings finden.#


=== Ansätze zur Problemlösung

==== Fehler: Es werden kryptische Variablen mit @-Zeichen am Anfang angezeigt
Unsere **`global.ini`** Datei liegt bereits im korrekten **`UTF-8-BOM`** Format vor. Wenn bei dir Variablen angezeigt werden, die mit einem @-Zeichen beginnen, aber die Ordnerstuktur richtig ist und du im richtigen Channel bist, scheint die Codierung der Datei falsch zu sein. Lade entweder **[die aktuelle Datei erneut herunter](https://github.com/rjcncpt/StarCitizen-Deutsch-INI/blob/main/live/global.ini)** oder stelle die Codierung deiner Datei manuell um:

1. Öffne die **`global.ini`** in einem Texteditor wie Notepad++
2. Klicke anschließend in der Symbolleiste auf "Codierung"
3. Wähle **`UTF-8-BOM`**
4. Speichere die Datei

==== Ich habe alles richtig gemacht, aber es werden immer noch englische Texte angezeigt
Achte bei den beiden Dateien **`global.ini`** und **`user.cfg`** auf die richtigen Dateiendungen.

Kontrolliere ob es die richtige Dateiendung ist:

1. Öffne den Windows Dateiexplorer
2. Klicke auf Ansicht am oberen Fensterrand
3. Aktiviere im Bereich Ein-/ausblenden: **`Dateinamenerweiterungen`**
4. Sollten die beiden Dateien nun **`global.ini.ini`** oder **`user.txt.cfg`** oder ähnlich heißen, musst du sie zurück in **`global.ini`** und **`user.cfg`** umbennenen.

==== Fehler: Keine englische Sprachausgabe im Spiel
Es gibt einen Fix für das Audio Problem. Du musst deiner **`user.cfg`** Datei die folgende Zeile hinzufügen:
**`g_languageAudio = english`**

Alternativ lade dir unsere **`https://github.com/rjcncpt/StarCitizen-Deutsch-INI/blob/main/live/user.cfg[user.cfg]`** Datei herunter, in der wir das bereits für dich übernommen haben.

== Dokumentation für Mitwirkende

=== GitHub Workflow
Platzhalter

=== Vorgang zur Korrektur der englischen `global.ini`
Hier wird der Vorgang zum Export und der Korrektur der englsichen global.ini aus Star Citizen dargestellt.

==== Vorbedingungen
Folgende Software muss lokal auf deinem Rechner vorhanden/installiert sein.

    * https://github.com/dolkensp/unp4k[unp4k]
    * https://notepad-plus-plus.org/[Notepad++] oder ein vergleichbarer Texteditor
    * Star Citizen

==== Entpacken der global.ini
    1. unp4k am gewünschten Ablageort der global.ini entpacken.
    2. Dort muss nun die Datei unp4k.exe vorhanden sein.
    3. Die Kommandozeile in diesem Ordner öffnen.
    4. Den Befehl `unp4k.exe "**C:\path\to\**Data.p4k" global.ini` eingeben. Hierbei muss **_c:\path\to\_** durch den Dateipfad zur Data.p4k im Star Citizen Verzeichnis ersetzt werden (Standardmäßig **_C:\Program Files\Roberts Space Industries\StarCitizen\LIVE\_** ). Die "" müssen erhalten bleiben.
    5. unp4k erstellt jetzt die Ordnerstruktur \Data\Localization\english\ im aktuellen Verzeichnis. Hier ist die `global.ini` zu finden.

==== Korrektur der `global.ini`--------
    1. Die global.ini in Notepad++ oder einem vergleichbaren Texteditor öffnen
    2. Die Codierung auf `ANSI` einstellen. _Notepad++: Menüleiste -> Codierung -> ANSI_
    3. Die Suche öffnen und den Suchmodus auf _Reguläre Ausdrücke_ einstellen
    4. Nach der Zeichenkette `[^\xC2]\xA0` suchen.
+
.Korrekt eingestellte Suche in Notepad++
image::bilder/korrektur-eng-ini-suche.png[Korrekt eingestellte Suche in Notepad++]
+
    5. Die Suche markiert nun mehrmals zwei Zeichen. Ein beliebiges Zeichen und darauffolgend ein Leerzeichen.
+
.Durch Suche markierte Zeichen in Notepad++
image::bilder/korrektur-eng-ini-ersetzen.png[Durch Suche markierte Zeichen in Notepad++]
+
    6. Zwischen das erste (beliebige) Zeichen und das nachfolgende Leerzeichen das Zeichen `Â` einfügen.
    7. Die Codierung wieder auf `UTF-8-BOM` stellen. _Notepad++: Menüleiste -> Codierung -> UTF-8-BOM_
    8. Die `global.ini` speichern.
    9. Die `global.ini` ist zu weiteren Verwendung bereit und kann z.B. entsprechend dem <<_github_workflow>> bereitgestellt werden